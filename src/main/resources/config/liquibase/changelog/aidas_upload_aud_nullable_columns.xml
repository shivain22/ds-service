<?xml version="1.0" encoding="utf-8"?>
<databaseChangeLog
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd
                        http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd">
    <changeSet author="shiva (generated)" id="1649822751914-40">
        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="int"
                                columnName="qc_done_by"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_aud"/>

        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="int"
                                columnName="qc_end_date"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_aud"/>

        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="int"
                                columnName="qc_start_date"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_aud"/>

        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="int"
                                columnName="qc_status"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_aud"/>

        <modifyDataType  catalogName="ainnotateservice"
                         columnName="qc_start_date"
                         newDataType="datetime"
                         schemaName="ainnotateservice"
                         tableName="aidas_upload_aud"/>

        <modifyDataType  catalogName="ainnotateservice"
                         columnName="qc_end_date"
                         newDataType="datetime"
                         schemaName="ainnotateservice"
                         tableName="aidas_upload_aud"/>

        <addColumn catalogName="ainnotateservice" schemaName= "ainnotateservice" tableName="aidas_upload" >
            <column name="metadata_status" type="int" defaultValue="0">
                <constraints nullable="false"></constraints>
            </column>
        </addColumn>
        <addColumn catalogName="ainnotateservice" schemaName= "ainnotateservice" tableName="aidas_upload_aud" >
            <column name="metadata_status" type="int" defaultValue="0">
                <constraints nullable="false"></constraints>
            </column>
        </addColumn>
        <modifyDataType  catalogName="ainnotateservice"
                         columnName="aidas_object_property_id"
                         newDataType="bigint"
                         schemaName="ainnotateservice"
                         tableName="aidas_upload_meta_data_aud"/>
        <modifyDataType  catalogName="ainnotateservice"
                         columnName="aidas_object_property_id"
                         newDataType="bigint"
                         schemaName="ainnotateservice"
                         tableName="aidas_upload_meta_data"/>
        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="bigint"
                                columnName="aidas_object_property_id"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_meta_data"/>
        <dropNotNullConstraint  catalogName="ainnotateservice"
                                columnDataType="bigint"
                                columnName="aidas_object_property_id"
                                schemaName="ainnotateservice"
                                tableName="aidas_upload_meta_data_aud"/>
        <delete  catalogName="ainnotateservice"
                 schemaName="ainnotateservice"
                 tableName="aidas_upload_meta_data">
        </delete>
        <delete  catalogName="ainnotateservice"
                 schemaName="ainnotateservice"
                 tableName="aidas_upload_meta_data_aud">
        </delete>
        <addDefaultValue tableName="aidas_upload_meta_data"
                         columnDataType="bigint"
                         columnName="aidas_object_property_id"
                         defaultValueNumeric="null"/>
        <addDefaultValue tableName="aidas_upload_meta_data_aud"
                         columnDataType="bigint"
                         columnName="aidas_object_property_id"
                         defaultValueNumeric="null"/>
        <addForeignKeyConstraint baseColumnNames="aidas_object_property_id" baseTableName="aidas_upload_meta_data" constraintName="FKker1px2dfd6gq1cy3nx7vgwqy123" deferrable="false" initiallyDeferred="false" onDelete="RESTRICT" onUpdate="RESTRICT" referencedColumnNames="id" referencedTableName="aidas_object_property" validate="true"/>
    </changeSet>
</databaseChangeLog>
